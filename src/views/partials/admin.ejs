<div class="actions-overlay"></div>
<div class="hero-container">
    <div class="hero-msg">
        <p>Welcome to your admin console.</p>
        <p>Here you can add, remove or update your projects.</p>
    </div>
    <div class="hero-actions">
        <button type="button" id="action-add-project">Add a New Project</button>
    </div>
</div>
<div class="active-projects">
    <table id="projects-table" class="projects-table">
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Status</th>
            <th>Source</th>
            <th class="th-center">Actions</th>
        </tr>
        <% if (projects && projects.length > 0) { %>
            <% projects.forEach(project => { %>
                <tr data-id="<%= project.id %>">
                    <td>
                        <div class="an-container">
                            <img src="<%= project.image %>" alt="<%= project.name %>" class="an-image">
                            <span class="an-name"><%= project.name %></span>
                        </div>
                    </td>
                    <td><%= project.description %></td>
                    <td>
                        <span class="pr-enabled" data-state="<%= project.enabled ? "enabled" : "disabled" %>">
                            <%= project.enabled ? "online" : "offline" %>
                        </span>
                    </td>
                    <td><%= project.github %></td>
                    <td>
                        <div class="an-container actions">
                            <a href="/admin/projects/<%= project.id %>">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-collapse"><path d="m3 10 2.5-2.5L3 5"/><path d="m3 19 2.5-2.5L3 14"/><path d="M10 6h11"/><path d="M10 12h11"/><path d="M10 18h11"/></svg>
                            </a>
                            <button 
                                type="button" 
                                class="edit-project"
                                onclick="editProject('<%= project.id %>', event)"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil edit-project-icon"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                            </button>
                            <button 
                                type="button" 
                                class="delete-project"
                                onclick="deleteProject('<%= project.id %>', event)"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2 delete-project-icon"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                            </button>
                        </div>
                    </td>
                </tr>
            <% }) %>
        <% } else { %>
            <tr>
                <td colspan="5" class="no-data">Currently there are no active projects, please add at least one first.</td>
            </tr>
        <% } %>
    </table>
</div>
<script src="/assets/js/admin.js"></script>